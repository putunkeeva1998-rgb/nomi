<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jade Food</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://mapgl.2gis.com/api/js/v1"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --jade: #006400; --bg: #f4f7f6; }
        body { margin: 0; font-family: 'Montserrat', sans-serif; background: var(--bg); color: #333; overflow-x: hidden; }
        
        /* –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é */
        .side-menu { position: fixed; left: -280px; top: 0; width: 250px; height: 100%; background: #fff; z-index: 1000; transition: 0.3s; padding: 20px; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
        .side-menu.open { left: 0; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; display: none; }
        .overlay.show { display: block; }

        /* –®–∞–ø–∫–∞ */
        .header { background: #fff; padding: 15px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .burger { font-size: 24px; cursor: pointer; color: var(--jade); }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–±–µ–∑ –∑–≤–µ–∑–¥–æ—á–µ–∫) */
        .card { background: #fff; margin: 10px; padding: 15px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; position: relative; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

        /* –ö–∞—Ä—Ç–∞ */
        #map { width: 100%; height: 250px; border-radius: 12px; margin: 10px 0; background: #eee; }

        /* –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (3 –∫–Ω–æ–ø–∫–∏) */
        .nav { position: fixed; bottom: 0; width: 100%; background: #fff; display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #eee; z-index: 100; }
        .nav-item { border: none; background: none; font-size: 11px; color: #999; font-weight: 700; text-transform: uppercase; }
        .nav-item.active { color: var(--jade); }

        /* –ö–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–∏—Ç—å */
        .main-btn { background: var(--jade); color: #fff; border: none; padding: 18px; border-radius: 15px; width: 100%; font-weight: 800; font-size: 16px; margin-top: 10px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="app">
        <div class="overlay" :class="{show: isSideMenuOpen}" @click="isSideMenuOpen = false"></div>
        <div class="side-menu" :class="{open: isSideMenuOpen}">
            <h2 style="color: var(--jade)">–û –Ω–∞—Å</h2>
            <p>Jade Food ‚Äî –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã.</p>
            <p>üìç –≥. –£–ª–∞–Ω-–£–¥—ç</p>
            <p>üïô –†–∞–±–æ—Ç–∞–µ–º: 10:00 - 22:00</p>
            <button @click="isSideMenuOpen = false" class="main-btn" style="padding: 10px;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>

        <div class="header">
            <div class="burger" @click="isSideMenuOpen = true">‚ò∞</div>
            <div style="font-weight: 800; color: var(--jade);">JADE FOOD</div>
            <div style="width: 24px;"></div>
        </div>

        <div v-if="activeTab === 'menu'" style="padding-bottom: 80px;">
            <div v-for="(items, cat) in menuData" :key="cat">
                <div style="padding: 15px 15px 5px; font-weight: 800; font-size: 13px; color: #888;">{{ cat.toUpperCase() }}</div>
                <div v-for="item in items" :key="item.name" class="card">
                    <div>
                        <div style="font-weight: 700;">{{ item.name }}</div>
                        <div style="font-size: 12px; color: #aaa;">{{ item.weight }}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: var(--jade); font-weight: 800; margin-bottom: 5px;">{{ item.price }} ‚ÇΩ</div>
                        <button @click="addToCart(item)" style="background: var(--jade); color: #fff; border: none; border-radius: 8px; padding: 6px 15px;">–í –ß–ï–ö</button>
                    </div>
                </div>
            </div>
        </div>

        <div v-if="activeTab === 'cart'" style="padding: 10px; padding-bottom: 100px;">
            <div class="card" v-for="i in cart" style="margin-bottom: 8px;">
                <span style="font-weight: 600;">{{ i.name }} x{{ i.qty }}</span>
                <span style="font-weight: 800; color: var(--jade);">{{ i.price * i.qty }} ‚ÇΩ</span>
            </div>
            
            <div v-if="cart.length > 0">
                <div style="margin: 15px 5px 5px; font-weight: 700;">–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –Ω–∞ –∫–∞—Ä—Ç–µ:</div>
                <div id="map"></div>
                <div style="font-size: 12px; color: #666; margin-bottom: 15px;">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: {{ address || '–Ω–µ –≤—ã–±—Ä–∞–Ω—ã' }}</div>
                <button class="main-btn" @click="sendOrder">–û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó ‚Äî {{ total }} ‚ÇΩ</button>
            </div>
            <div v-else style="text-align: center; margin-top: 50px; color: #ccc; font-weight: 700;">–í–ê–®–ê –ö–û–†–ó–ò–ù–ê –ü–£–°–¢–ê</div>
        </div>

        <div v-if="activeTab === 'profile'" style="padding: 30px; text-align: center;">
            <div style="font-size: 60px; margin-bottom: 10px;">üë§</div>
            <h2 style="margin: 0;">{{ userName }}</h2>
            <p style="color: #999;">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</p>
        </div>

        <nav class="nav">
            <button @click="activeTab = 'menu'" :class="['nav-item', activeTab === 'menu' ? 'active' : '']">–ú–ï–ù–Æ</button>
            <button @click="activeTab = 'cart'" :class="['nav-item', activeTab === 'cart' ? 'active' : '']">–ö–û–†–ó–ò–ù–ê ({{ cart.length }})</button>
            <button @
